회귀분석을 위한 통계 & 수학적 개념 이해(1)

## 통계학 기초 

### 통계학이란?

"모집단에서 추출한 **표본**을 통해 **모집단**을 추정 및 추론하는 것"

좀 더 구체적으로 말하면 **모집단의 요약값인 모수를 표본의 통계량/추정량으로 추정 및 추론**하는 것이다. 
- 모수(Parameter) : 모집단의 특성을 수치로 표현
    - $\mu$ (평균), $\sigma$ (분산)
- 통계량(Statistic) : 표본의 관측값들에 의해서 결정되는 양 : $\$
- 추정량(Estimator) : 모수를 추정하고자 하는 목적을 지닌 통계량

### 자료의 종류

- 수치형 (양적자료)
    - 연속형 (예. 몸무게, 키)
    - 이산형 (예. 전화 통화 수)
    
- 범주형 (질적자료)
    - 순위형 (예. 학점 -> 순서o)
    - 명목형 (예. 성별)

### 자료의 요약 - 그림, 표

- 범주형 자료 : 도수분포표, 막대/원형 그래프
- 연속형 자료 : Box plot, 히스토그램


### 자료의 요약 - **수치**

1. 중심 경향값(대표값)
    - 평균 (Mean) : $\mu$
    - 중앙값 (Median) : 크기 순으로 정렬했을 때 중앙에 위치한 값
    - 최빈값 (Mode) : 가장 자주 나오는 값 (범주형 자료)
    
2. 산포도(퍼진 정도)
    - 분산 (Variance) : $\sigma$ 
    - 사분위수 범위 (Inter quartile range) : 크기 순으로 정렬했을 때 중앙에 위치한 50%의 관측치가 가지는 범위(이상치에 영향 받지 x)
    
3. 정규분포 -> 사용 多
    - 자연과학 현상 설명에 가장 널리 쓰이는 분포
    - 평균에 의해 위치 결정, 분산에 의해 모양 결정
    
4. 분포도
    - 왜도(Skewness) : 분포의 비대칭 정도 / 왜도가 0이면 정규분포와 동일
    - 첨도(Kurtosis) : 분포의 꼬리 부분의 비중에 대한 측도 / 첨도가 0이면 정규분포와 동일()

### 확률

- 확률실험(Random experiment)
    - 실험의 결과는 미리 알 수 없지만 실험에서 일어날 수 있는 모든 결과는 이미 알려져 있고, 이론적으로 반복할 수 있는 인위적인 실험
    
- 표본공간 (Sample space) : 근원사건의 집합. 모든 결과들의 모임
- 근원사건 (Sample outcome) : 표본공간의 원소
- 사건 (Event) : 표본공간의 부분집합. 근원사건의 집합
    - 배반사건 : 서로 교집합이 공집합인 사건
    

```
(예시)
확률실험 : 주사위 던지기. 주사위 눈의 숫자로 결과를 표시
표본공간 : S = {1, 2, 3, 4, 5, 6}
근원사건 : 1, ..., 6
사건 : 짝수가 나오는 사건 A = {2, 4, 6}
```

#### 확률
- 어떠한 사건이 일어날 가능성의 정도
- P({2,4,6}) = P(A) = $\frac{1}{2}$
    
#### 확률의 공리 ($\rightarrow$통계적으로 중요!)
- 0 $\leq$ P(A) $\leq$ 1
- P(S) = 1 : 모든 경우가 일어날 가능성
- 어떠한 사건들이 서로 배반사건일 때, 이 사건들의 합사건의 확률은 각각의 사건이 일어날 확률의 합과 같다.

#### 조건부 확률 : 사건 B에 대한 정보가 주어졌을 때 사건 A의 교정된 확률
- P(A|B) = $\frac{P(A∩B)}{P(B)}$
    
#### 독립 : 사건 A와 B가 서로 영향을 미치지 않음
- P(A∩B) = P(A)P(B)

#### 확률변수 : 각각의 근원사건들에 실수값을 대응시키는 함수
- (예시)
- X((H,H)) = 2  
- X((H,T)) = 1
- X((T,H)) = 1
- X((T,T)) = 0

$\Rightarrow$ 확률변수를 함수로 표현하는 방법

#### 확률변수의 기대값 : 확률변수의 중심 경향값. 평균
- $E(X) = \mu = \sum\limits_{i=1}^nx_if(x_i)$
- $x_if(x_i)$ : 확률변수 x 확률분포
    
#### 확률변수의 분산 
- $Var(X) = E(X - \mu)^2 = \sum\limits_{i=1}^n(x_i-\mu)^2f(x_i)$

#### 확률분포 : 확률변수에서 확률값으로의 함수. 주로 f(x)로 표기한다.
- (예시)
- f(2) = P(X=2) = P({(H,H)}) = $\frac{1}{4}$
- f(1) = P(X=1) = P({(H,T),(T,H)}) = $\frac{2}{4}$ = $\frac{1}{2}$
- f(0) = P(X=0) = P({(T,T)}) = $\frac{1}{4}$

$\Rightarrow$ 확률변수 정의 $\rightarrow$ 확률분포 정의

#### 공분산
- 두 개의 확률변수 X,Y가 상호 어떤 관계를 가지며 변화하는지를 나타낸 측도
- $Cov(X,Y) = E(X - \mu_X)(Y - \mu_Y) = \sum\limits_{i=1}^n(x_i - \mu_X)(y_i - \mu_Y)f(x_i,y_i)$
- $Cov(X,Y) > 0$ $\rightarrow$ X,Y가 같은 방향으로 움직임 
- $Cov(X,Y) < 0$ $\rightarrow$ X,Y가 다른 방향으로 움직임
- $Cov(X,Y) = 0$ $\rightarrow$ X, Y가 독립 
- X, Y 단위의 크기에 영향을 받지 않는다. $\rightarrow$ 한계가 있음!
    
    
#### 상관계수
- 공분산을 단위화한 값
- $\rho = \frac{Cov(X,Y)}{\sqrt{Var(X)Var(Y)}}$ , $-1 \leq \rho \leq 1$

### <이산형 확률분포>

#### 베르누이 시행
- 실험 결과의 범주가 2가지인 경우 (성공/실패)
- X = 1(성공) / X = 0(실패)
- $f(x) = p^x(1 - p)^{1-x}$
    - $x = 1$ $\rightarrow$ $p$
    - $x = 0$ $\rightarrow$ $1 - p$
- 예) 앞면이 성공인 동전 던지기
        
#### 이항분포
- 성공확률이 p인 베르누이 시행을 독립적으로 n번 시행했을 때 성공한 횟수의 분포(X:성공횟수)
- $f(x) = \frac{n!}{x!(n-x)!}p^x(1 - p)^{n-x}$ 
    - 0 $\leq$ $x$ $\leq$ n, 정수
- 예) 동전을 n번 던져서 나온 앞면의 횟수 ($\rightarrow$ 이항분포를 따르는 확률변수가 X)

#### 다항분포
- 다항시행 : 1회의 시행결과로 나올 수 있는 범주가 3개 이상이 되는 확률 실험
- K개 범주의 다항 시행을 n번 반복했을 때, 각 범주가 나타나는 횟수의 분포이다.(K>2)
    - $f(x_1,...,x_k) = \frac{n!}{x_1!...x_k!}p_1^{x_1}...p_k^{x_k}$
        - $x_k = (n - \sum\limits_{k=1}^{k-1}x_k)$,  $p_k = 1 - \sum\limits_{k=1}^{k-1}$,  $0 \leq x_k \leq n$, 정수
- 예) 주사위를 n번 던져서 각 눈이 나온 횟수

#### 포아송분포
- 주어진 단위 구간 내에 평균적으로 발생하는 사건의 횟수가 정해져 있을 때, 동일 단위에서의 발생 횟수
- 예) 1시간 동안 걸려온 전화의 수, 200페이지 안에 있는 오타의 수
- 조건)
    - 사건의 평균 발생횟수는 단위 구간에 비례
    - 2개 이상의 사건이 동시에 발생할 확률은 0에 가까움
    - 어떤 단위구간의 사건의 발생은 다른 단위구간의 발생으로부터 독립적
- 평균이 $\mu$인 포아송 분포
    - $f(x) = \frac{\mu^xe^{-\mu}}{x!}$
    - $0 \leq x, 정수$

### <연속형 확률분포>

#### 지수분포
- 평균 소요시간이 $\mu$인 사건이 발생하기까지 걸리는 소요 시간
- $f(x) = \frac{1}{\mu}e^-{\frac{1}{\mu}x}$ 
    - $0 \leq x$

#### ★ 정규분포
- $f(x) = \frac{1}{\sqrt{2\pi\sigma^2}}e^{-\frac{(x-\mu)^2}{2\sigma^2}}$
    - $0 \leq x$
    
#### 표준정규분포
- 평균이 0, 분산이 1인 정규분포

### <통계적 추론>

#### 점추정 (Point estimation)
- 추정량을 통해 모수를 추정
- 예) $\overline{X}, s^2 \rightarrow \mu, \sigma^2$
- 확률변수 $\overline{X}$는 분산의 값을 가지기 때문에 추정량의 중심값들이 모수에 얼마나 가까이 있는지 설명이 필요하다
$\rightarrow$ 구간추정!

#### 구간 추정 (Interval estimation)
- 일정 신뢰수준 하에서 모수를 포함할 것으로 예상되는 구간을 제시
- 신뢰수준과 구간의 길이는 반비례

### <통계적 검정>

#### 대립가설 (H1)
- 입증하여 주장하고자하는 가설

#### 귀무가설 (H0)
- 대립가설의 반대가설
- 기각하고자하는 가설
- 귀무가설 하에서 통계량의 분포를 아는 것이 검정의 핵심이다.

### 오류의 종류
- 1종 오류 : 귀무가설이 맞을 때, 귀무가설을 기각하는 오류
- 2종 오류 : 귀무가설이 틀렸을 때, 귀무가설을 기각하지 않는 오류

### 검정 통계량
- 표본에서 구해낼 수 있는 함수
- 검정 통계량 값을 기준으로 귀무가설의 기각여부를 결정한다.
    - 귀무가설 하의 모수로부터 검정통계량 값이 얼마나 떨어져 있는지에 따라 결정

#### 기각역
- 검정통계량이 취하는 구간 중 귀무가설을 기각하는 구간
- 기각역은 적당하게 잡아야 한다!
    - 크면 대립가설 채택할 가능성 $\uparrow$ $\rightarrow$ 1종 오류 범할 가능성 $\uparrow$
    - 작으면 위와 반대

#### 단측검정
- $H_1 : \mu > \mu_0$

#### 양측검정
- $H_1 : \mu \neq \mu_0$

### 유의확률 (P-value)
- 주어진 검정통계량값을 기준으로 해당 값보다 대립가설을 더 선호하는 검정통계량 값이 나올 확률
- 이 값이 유의수준보다 낮으면 귀무가설을 기각
    - 유의수준 : $\alpha$ (오류를 범할 확률)
    
    
- 귀무가설을 기각하는 2가지 방법
    1. 검정통계량값이 기각역 안에 있는 경우
    2. 유의수준($\alpha$) > P-value

### <검정통계량과 관련된 분포>

#### Z 통계량
- 귀무가설 : X의 평균이 $\mu_0$이다.($\overline{X}$의 평균도 $\mu_0$)
- $Z = \frac{\overline{X}-\mu_0}{\sqrt{\frac{\sigma_2}{n}}}\sim{N(0,1)}$
- 관측치의 수가 충분하다면(30개 이상) $\sigma_2$을 $s_2$으로 대체 가능

#### t 분포
- 관측치 수가 적을 때(30개 이하)
- $t = \frac{\overline{X}-\mu_0}{\sqrt{\frac{s_2}{n}}}\sim{t(n - 1)}$
- 자유도가 커질수록 정규분포에 근사

#### 카이제곱 분포
- $Z\sim{N(0,1)}$ 일 때,
    - $Z^2 \sim{X_{(1)}^2}, \sum\limits_{i=1}^kZ_i^2 \sim{X_{(k)}^2}$
- $f(x;k) = \frac{1}{2^{k/2}\Gamma(k/2)}x^{k/2-1}e^{-x/2}$
    - $x \geq 0$
- 확률변수의 제곱합으로 이루어진 통계량

#### F 분포
- 두 확률변수 $V_1, V_2$가 자유도 $k_1, k_2$이고 서로 독립인 카이제곱 분포를 따를 때,
- $F = \frac{V_1/k_1}{V_2/k_2} \sim{F(k_1,k_2)}$
- 확률변수의 제곱합을 관측치로 나눈 것의 비율로 이루어진 통계량
